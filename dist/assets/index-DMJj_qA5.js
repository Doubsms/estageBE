import{l as Te,j as e,r as m,B as n,z as b,y as r,A as F,T as o,V as G,G as l,J as ne,v,I as U,a9 as Ue,S as Q,x as xe,F as he,Z as Ce,Y as z,C as me,L as Ye,u as Ve,H as Je,az as He,aA as Ge}from"./index-zHPv1lze.js";import{a as H}from"./index-C3O71W1x.js";import{C as ee}from"./CalendarToday-BYxDq_1X.js";import{F as le,S as ae}from"./Select-DCG_CkE0.js";import{I as ce}from"./OutlinedInput-C5vYvqQm.js";import{M as de}from"./MenuItem-D-1uk7AZ.js";import{E as q,S as ue,H as pe,P as fe,A as je}from"./SwapHoriz-B-zTNYW6.js";import{B as oe}from"./Button-0T1tR8_c.js";import{D as Qe}from"./Download-CCo6S7zV.js";import{C as Ne}from"./CircularProgress-BHFhENdB.js";import{A as be}from"./index-voob9auG.js";import{P as Z}from"./Person-CVTBdQV4.js";import{E as qe}from"./ExpandLess-BVSXxMnp.js";import{E as Ze}from"./ExpandMore-DWiDQC_Y.js";import{T as Se,a as Re,b as Fe,c as re,d as f,e as Oe}from"./TableRow-70JfVjDg.js";import{a as Pe,D as Le}from"./DialogContent-COvIddmc.js";import{D as we}from"./DialogTitle-CCgKuUmv.js";import{C as Me}from"./Close-B5GqWx1j.js";import{D as ze}from"./Description-Dd72SfDg.js";import{T as ke}from"./Timeline-BXnwFYdk.js";import{G as De}from"./Group-CKNX0Zix.js";import{L as We}from"./LocationOn-We7TmFLi.js";import{A as Be,a as _e,C as Ke}from"./AttachMoney-BnH0h83A.js";import{D as $e}from"./DialogActions-CZ9LuKoL.js";import{C as Xe}from"./Container-iQUVt9w4.js";import{M as eo}from"./MenuBook-DDGUq44w.js";import"./useFormControl-BwsGWz84.js";import"./ButtonGroupButtonContext-BYVHV5Ft.js";const ve=Te(e.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V8h14zM7 10h5v5H7z"}),"Today"),ge=Te(e.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),oo=ne(me),ro=()=>{const[N,k]=m.useState([]),[j,D]=m.useState(""),[u,Y]=m.useState(null),[I,W]=m.useState({centreExcellence:[],transversal:[],specialisation:[],individuel:[],autoformation:[]}),[O,d]=m.useState(!1),[y,T]=m.useState(null),[t,V]=m.useState({open:!1,formation:null,axe:null}),[L,_]=m.useState({totalFormations:0,parAxe:{}}),a="",B=[{id:"centreExcellence",title:"Centre d'Excellence",icon:ue,color:"#2e7d32",endpoint:"listeformationpasserelle",typeField:"TYPEFORMATIONPASSERELLE"},{id:"transversal",title:"Formations Transversales",icon:pe,color:"#ed6c02",endpoint:"listeformationtransversale",typeField:"TYPEFORMATIONTRANSVERSALLE"},{id:"specialisation",title:"Spécialisation Fonctionnelle",icon:fe,color:"#d32f2f",endpoint:"listeformationspecialisationfonctionel",typeField:"TYPEFORMATIONSPECIALISATIONFONCTIONEL"},{id:"individuel",title:"Formations Individuelles",icon:Z,color:"#9c27b0",endpoint:"listeformationindividuelle",typeField:"TYPEFORMATIONINDIVIDUELLE"},{id:"autoformation",title:"Auto-Formation",icon:je,color:"#e65100",endpoint:"listeautoformation",typeField:"TYPEAUTOFORMATION"}];m.useEffect(()=>{(async()=>{const x=localStorage.getItem("token");try{const c=await H.get(`${a}/listeplantrienal`,{headers:{Authorization:`Bearer ${x}`}});k(c.data)}catch(c){console.error("Erreur lors de la récupération des triennaux:",c),z.error("Erreur lors du chargement des plans triennaux")}})()},[]),m.useEffect(()=>{(async()=>{if(!j)return;d(!0);const x=localStorage.getItem("token");try{const c=B.map(h=>H.get(`${a}/${h.endpoint}?triennal=${j}`,{headers:{Authorization:`Bearer ${x}`}}).then(E=>({axeId:h.id,data:E.data})).catch(E=>(console.error(`Erreur pour l'axe ${h.id}:`,E),{axeId:h.id,data:[]}))),C=await Promise.all(c),g={centreExcellence:[],transversal:[],specialisation:[],individuel:[],autoformation:[]};C.forEach(h=>{g[h.axeId]=h.data}),W(g);const i=Object.values(g).reduce((h,E)=>h+E.length,0),p={};B.forEach(h=>{p[h.id]=g[h.id].length}),_({totalFormations:i,parAxe:p})}catch(c){console.error("Erreur lors de la récupération des formations:",c),z.error("Erreur lors du chargement des formations")}finally{d(!1)}})()},[j]);const S=s=>{const x=s.target.value;D(x);const c=N.find(C=>C.IDPLAN===x);Y(c),T(null)},ie=s=>{T(y===s?null:s)},K=(s,x)=>{V({open:!0,formation:s,axe:x})},J=()=>{V({open:!1,formation:null,axe:null})},R=async()=>{if(!u?.FICHIERPLAN){z.error("Aucun fichier disponible pour ce plan");return}try{const s=localStorage.getItem("token"),x=await H.get(`${a}/uploads/${u.FICHIERPLAN}`,{headers:{Authorization:`Bearer ${s}`},responseType:"blob"}),c=u.FICHIERPLAN.split(".").pop()||"pdf",C=`plan_triennal_${u.ANNEE1}-${u.ANNEE3}.${c}`,g=window.URL.createObjectURL(new Blob([x.data])),i=document.createElement("a");i.href=g,i.setAttribute("download",C),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(g),z.success("Plan téléchargé avec succès !")}catch(s){console.error("Erreur lors du téléchargement:",s),z.error("Erreur lors du téléchargement du plan")}},M=["JAN","FEV","MAR","AVR","MAI","JUI","JUL","AOU","SEP","OCT","NOV","DECE"],te=["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"];return e.jsxs(n,{children:[e.jsxs(b,{elevation:0,sx:{p:3,mb:4,borderRadius:3,border:"1px solid",borderColor:"rgba(74, 144, 226, 0.2)",bgcolor:r("#4A90E2",.02)},children:[e.jsxs(n,{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:2,children:[e.jsxs(n,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(F,{sx:{width:48,height:48,bgcolor:r("#4A90E2",.1),color:"#4A90E2"},children:e.jsx(ee,{})}),e.jsxs(n,{children:[e.jsx(o,{variant:"h6",fontWeight:"500",color:"#2c3e50",children:"Sélectionnez un plan triennal"}),e.jsx(o,{variant:"body2",color:"#7f8c8d",children:"Choisissez une période pour voir les formations associées"})]})]}),e.jsxs(le,{sx:{minWidth:250},children:[e.jsx(ce,{children:"Plan Triennal"}),e.jsx(ae,{value:j,onChange:S,label:"Plan Triennal",sx:{borderRadius:2},children:N.map(s=>e.jsx(de,{value:s.IDPLAN,children:`${s.ANNEE1} - ${s.ANNEE2} - ${s.ANNEE3}`},s.IDPLAN))})]})]}),u&&e.jsx(G,{in:!0,children:e.jsxs(n,{sx:{mt:3,p:2,bgcolor:r("#4A90E2",.05),borderRadius:2,display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:2},children:[e.jsxs(n,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(q,{sx:{color:"#4A90E2"}}),e.jsxs(n,{children:[e.jsxs(o,{variant:"body2",color:"#2c3e50",children:[e.jsx("strong",{children:"Période:"})," ",u.ANNEE1," - ",u.ANNEE3]}),e.jsxs(o,{variant:"body2",color:"#7f8c8d",children:[L.totalFormations," formation(s) au total"]})]})]}),e.jsx(oe,{variant:"outlined",startIcon:e.jsx(Qe,{}),onClick:R,sx:{borderRadius:2,borderColor:"#4A90E2",color:"#4A90E2","&:hover":{borderColor:"#2171c7",bgcolor:r("#4A90E2",.02)}},children:"Télécharger le plan"})]})})]}),O&&e.jsx(n,{display:"flex",justifyContent:"center",alignItems:"center",py:8,children:e.jsx(Ne,{sx:{color:"#4A90E2"}})}),!O&&j&&e.jsx(be,{children:e.jsxs(l,{container:!0,spacing:3,children:[B.map(s=>{const x=I[s.id]||[],c=s.icon,C=y===s.id;return x.length===0?null:e.jsx(l,{item:!0,xs:12,children:e.jsxs(oo,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},sx:{borderRadius:3,border:"1px solid",borderColor:r(s.color,.2),overflow:"hidden"},children:[e.jsxs(n,{sx:{p:2,bgcolor:r(s.color,.05),borderBottom:"1px solid",borderColor:r(s.color,.2),display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer","&:hover":{bgcolor:r(s.color,.08)}},onClick:()=>ie(s.id),children:[e.jsxs(n,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(F,{sx:{width:40,height:40,bgcolor:r(s.color,.1),color:s.color},children:e.jsx(c,{sx:{fontSize:20}})}),e.jsxs(n,{children:[e.jsx(o,{variant:"subtitle1",fontWeight:"500",color:"#2c3e50",children:s.title}),e.jsxs(o,{variant:"caption",color:"#7f8c8d",children:[x.length," formation(s)"]})]})]}),e.jsxs(n,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(v,{size:"small",label:`${(x.length/L.totalFormations*100).toFixed(1)}%`,sx:{bgcolor:r(s.color,.1),color:s.color}}),e.jsx(U,{size:"small",children:C?e.jsx(qe,{}):e.jsx(Ze,{})})]})]}),e.jsx(Ue,{in:C,children:e.jsx(n,{sx:{p:2},children:e.jsx(Se,{component:b,sx:{boxShadow:"none",border:"1px solid",borderColor:"rgba(0,0,0,0.05)"},children:e.jsxs(Re,{size:"small",children:[e.jsx(Fe,{sx:{bgcolor:r(s.color,.03)},children:e.jsxs(re,{children:[e.jsx(f,{sx:{fontWeight:500},children:"Intitulé"}),e.jsx(f,{sx:{fontWeight:500},children:"Cibles"}),e.jsx(f,{sx:{fontWeight:500},children:"Lieu"}),e.jsx(f,{sx:{fontWeight:500},children:"Prestataire"}),e.jsx(f,{sx:{fontWeight:500},align:"center",children:"Mois"}),e.jsx(f,{sx:{fontWeight:500},align:"center",children:"Actions"})]})}),e.jsx(Oe,{children:x.map(g=>e.jsxs(re,{sx:{"&:hover":{bgcolor:r(s.color,.02)}},children:[e.jsx(f,{children:e.jsx(o,{variant:"body2",fontWeight:"500",children:g.INTITULE||"Non spécifié"})}),e.jsx(f,{children:e.jsx(o,{variant:"body2",color:"#7f8c8d",children:g.CIBLES||"-"})}),e.jsx(f,{children:e.jsx(o,{variant:"body2",color:"#7f8c8d",children:g.LIEU||"-"})}),e.jsx(f,{children:e.jsx(o,{variant:"body2",color:"#7f8c8d",children:g.PRESTATAIREPEDAGOGIQUE||"-"})}),e.jsx(f,{align:"center",children:e.jsx(Q,{direction:"row",spacing:.5,justifyContent:"center",children:M.map((i,p)=>e.jsx(v,{label:i,size:"small",sx:{minWidth:30,height:24,fontSize:"0.65rem",bgcolor:g[i]===1?r(s.color,.2):"transparent",color:g[i]===1?s.color:"#bdc3c7",border:"1px solid",borderColor:g[i]===1?s.color:"#e0e0e0"}},i))})}),e.jsx(f,{align:"center",children:e.jsx(xe,{title:"Voir les détails",children:e.jsx(U,{size:"small",sx:{color:s.color},onClick:()=>K(g,s),children:e.jsx(ge,{fontSize:"small"})})})})]},g.IDFORMATIONM))})]})})})})]})},s.id)}),L.totalFormations===0&&e.jsx(l,{item:!0,xs:12,children:e.jsxs(b,{sx:{p:6,textAlign:"center",bgcolor:r("#4A90E2",.02),borderRadius:3,border:"1px dashed",borderColor:r("#4A90E2",.3)},children:[e.jsx(he,{sx:{fontSize:48,color:r("#4A90E2",.3),mb:2}}),e.jsx(o,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Aucune formation trouvée"}),e.jsx(o,{variant:"body2",color:"text.secondary",children:"Ce plan triennal ne contient aucune formation pour le moment"})]})})]})}),!j&&!O&&e.jsxs(b,{sx:{p:6,textAlign:"center",bgcolor:r("#4A90E2",.02),borderRadius:3,border:"1px dashed",borderColor:r("#4A90E2",.3)},children:[e.jsx(ee,{sx:{fontSize:48,color:r("#4A90E2",.3),mb:2}}),e.jsx(o,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Sélectionnez un plan triennal"}),e.jsx(o,{variant:"body2",color:"text.secondary",children:"Choisissez une période pour voir les formations associées"})]}),e.jsx(Pe,{open:t.open,onClose:J,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:3,overflow:"hidden"}},children:t.formation&&t.axe&&e.jsxs(e.Fragment,{children:[e.jsxs(we,{sx:{bgcolor:r(t.axe.color,.05),borderBottom:"1px solid",borderColor:r(t.axe.color,.2),display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(n,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(F,{sx:{bgcolor:r(t.axe.color,.1),color:t.axe.color},children:Ce.createElement(t.axe.icon)}),e.jsxs(n,{children:[e.jsx(o,{variant:"h6",fontWeight:"600",color:"#2c3e50",children:t.formation.INTITULE||"Formation"}),e.jsxs(o,{variant:"caption",color:"#7f8c8d",children:[t.axe.title," • ID: ",t.formation.IDFORMATIONM]})]})]}),e.jsx(U,{onClick:J,size:"small",children:e.jsx(Me,{})})]}),e.jsx(Le,{sx:{p:3},children:e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(b,{elevation:0,sx:{p:2,borderRadius:2,border:"1px solid",borderColor:r(t.axe.color,.2),height:"100%"},children:[e.jsxs(n,{display:"flex",alignItems:"center",gap:1,mb:1.5,children:[e.jsx(ze,{sx:{color:t.axe.color,fontSize:20}}),e.jsx(o,{variant:"subtitle2",fontWeight:"600",color:"#2c3e50",children:"Objectifs pédagogiques"})]}),e.jsx(o,{variant:"body2",color:"#7f8c8d",sx:{whiteSpace:"pre-wrap"},children:t.formation.OBJECTIFS||"Aucun objectif renseigné"})]})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(b,{elevation:0,sx:{p:2,borderRadius:2,border:"1px solid",borderColor:r(t.axe.color,.2),height:"100%"},children:[e.jsxs(n,{display:"flex",alignItems:"center",gap:1,mb:1.5,children:[e.jsx(ke,{sx:{color:t.axe.color,fontSize:20}}),e.jsx(o,{variant:"subtitle2",fontWeight:"600",color:"#2c3e50",children:"Résultats attendus"})]}),e.jsx(o,{variant:"body2",color:"#7f8c8d",sx:{whiteSpace:"pre-wrap"},children:t.formation.RESULTATATTENDU||"Aucun résultat renseigné"})]})}),e.jsx(l,{item:!0,xs:12,children:e.jsxs(b,{elevation:0,sx:{p:2,borderRadius:2,border:"1px solid",borderColor:r(t.axe.color,.2)},children:[e.jsx(o,{variant:"subtitle2",fontWeight:"600",color:"#2c3e50",gutterBottom:!0,children:"Informations générales"}),e.jsxs(l,{container:!0,spacing:2,children:[e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(n,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(De,{sx:{color:t.axe.color,fontSize:18}}),e.jsxs(n,{children:[e.jsx(o,{variant:"caption",color:"#7f8c8d",children:"Cibles"}),e.jsx(o,{variant:"body2",children:t.formation.CIBLES||"Non spécifié"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(n,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(We,{sx:{color:t.axe.color,fontSize:18}}),e.jsxs(n,{children:[e.jsx(o,{variant:"caption",color:"#7f8c8d",children:"Lieu"}),e.jsx(o,{variant:"body2",children:t.formation.LIEU||"Non spécifié"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(n,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(Z,{sx:{color:t.axe.color,fontSize:18}}),e.jsxs(n,{children:[e.jsx(o,{variant:"caption",color:"#7f8c8d",children:"Prestataire"}),e.jsx(o,{variant:"body2",children:t.formation.PRESTATAIREPEDAGOGIQUE||"Non spécifié"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(n,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(Be,{sx:{color:t.axe.color,fontSize:18}}),e.jsxs(n,{children:[e.jsx(o,{variant:"caption",color:"#7f8c8d",children:"Montant"}),e.jsx(o,{variant:"body2",children:t.formation.MONTANT?`${t.formation.MONTANT} FCFA`:"Non spécifié"})]})]})}),t.formation.PERIODE&&e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(n,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(q,{sx:{color:t.axe.color,fontSize:18}}),e.jsxs(n,{children:[e.jsx(o,{variant:"caption",color:"#7f8c8d",children:"Période"}),e.jsx(o,{variant:"body2",children:t.formation.PERIODE})]})]})})]})]})}),e.jsx(l,{item:!0,xs:12,children:e.jsxs(b,{elevation:0,sx:{p:2,borderRadius:2,border:"1px solid",borderColor:r(t.axe.color,.2)},children:[e.jsx(o,{variant:"subtitle2",fontWeight:"600",color:"#2c3e50",gutterBottom:!0,children:"Planification mensuelle"}),e.jsx(l,{container:!0,spacing:1,children:te.map((s,x)=>e.jsx(l,{item:!0,xs:6,sm:4,md:3,children:e.jsxs(n,{sx:{p:1,borderRadius:1,bgcolor:t.formation[M[x]]===1?r(t.axe.color,.1):"transparent",border:"1px solid",borderColor:t.formation[M[x]]===1?t.axe.color:"#e0e0e0",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(o,{variant:"body2",color:t.formation[M[x]]===1?t.axe.color:"#7f8c8d",children:s}),t.formation[M[x]]===1&&e.jsx(v,{size:"small",label:Number(t.formation.PREVUE)===1?"Prévue":"Improvisé",sx:{height:20,fontSize:"0.6rem",bgcolor:r(t.axe.color,.2),color:t.axe.color}})]})},x))})]})}),u&&e.jsx(l,{item:!0,xs:12,children:e.jsxs(b,{elevation:0,sx:{p:2,borderRadius:2,border:"1px solid",borderColor:r(t.axe.color,.2)},children:[e.jsx(o,{variant:"subtitle2",fontWeight:"600",color:"#2c3e50",gutterBottom:!0,children:"Années du plan triennal"}),e.jsxs(Q,{direction:"row",spacing:2,children:[e.jsx(v,{label:`Année 1: ${u.ANNEE1}`,variant:t.formation.ANNEE1?"filled":"outlined",color:t.formation.ANNEE1?"primary":"default"}),e.jsx(v,{label:`Année 2: ${u.ANNEE2}`,variant:t.formation.ANNEE2?"filled":"outlined",color:t.formation.ANNEE2?"primary":"default"}),e.jsx(v,{label:`Année 3: ${u.ANNEE3}`,variant:t.formation.ANNEE3?"filled":"outlined",color:t.formation.ANNEE3?"primary":"default"})]})]})})]})}),e.jsx($e,{sx:{p:2,bgcolor:"#f8f9fa",borderTop:"1px solid",borderColor:"rgba(0,0,0,0.05)"},children:e.jsx(oe,{onClick:J,variant:"outlined",sx:{borderRadius:2},children:"Fermer"})})]})})]})},no=ne(me),io=()=>{const[N,k]=m.useState([]),[j,D]=m.useState(""),[u,Y]=m.useState(null),[I,W]=m.useState(""),[O,d]=m.useState([]),[y,T]=m.useState([]),[t,V]=m.useState({}),[L,_]=m.useState(!1),[a,B]=m.useState({open:!1,formation:null}),[S,ie]=m.useState({totalFormations:0,formationsParMois:{},axesRepartition:{}}),K="",J=[{id:"passerelle",title:"Centre d'Excellence",icon:ue,color:"#2e7d32",typeField:"TYPEFORMATIONPASSERELLE"},{id:"transversal",title:"Formations Transversales",icon:pe,color:"#ed6c02",typeField:"TYPEFORMATIONTRANSVERSALLE"},{id:"specialisation",title:"Spécialisation Fonctionnelle",icon:fe,color:"#d32f2f",typeField:"TYPEFORMATIONSPECIALISATIONFONCTIONEL"},{id:"individuel",title:"Formations Individuelles",icon:Z,color:"#9c27b0",typeField:"TYPEFORMATIONINDIVIDUELLE"},{id:"autoformation",title:"Auto-Formation",icon:je,color:"#e65100",typeField:"TYPEAUTOFORMATION"}],R=[{key:"JAN",nom:"Janvier",numero:1},{key:"FEV",nom:"Février",numero:2},{key:"MAR",nom:"Mars",numero:3},{key:"AVR",nom:"Avril",numero:4},{key:"MAI",nom:"Mai",numero:5},{key:"JUI",nom:"Juin",numero:6},{key:"JUL",nom:"Juillet",numero:7},{key:"AOU",nom:"Août",numero:8},{key:"SEP",nom:"Septembre",numero:9},{key:"OCT",nom:"Octobre",numero:10},{key:"NOV",nom:"Novembre",numero:11},{key:"DECE",nom:"Décembre",numero:12}];m.useEffect(()=>{(async()=>{const p=localStorage.getItem("token");try{const h=await H.get(`${K}/listeplantrienal`,{headers:{Authorization:`Bearer ${p}`}});k(h.data)}catch(h){console.error("Erreur lors de la récupération des triennaux:",h),z.error("Erreur lors du chargement des plans triennaux")}})()},[]),m.useEffect(()=>{if(u){const i=[u.ANNEE1,u.ANNEE2,u.ANNEE3].filter(p=>p&&p!==0);d(i),W(""),T([]),V({})}},[u]),m.useEffect(()=>{(async()=>{if(!j||!I)return;_(!0);const p=localStorage.getItem("token");try{const E=["listeformationpasserelle","listeformationtransversale","listeformationspecialisationfonctionel","listeformationindividuelle","listeautoformation"].map(A=>H.get(`${K}/${A}?triennal=${j}`,{headers:{Authorization:`Bearer ${p}`}}).then(P=>P.data).catch(P=>(console.error(`Erreur pour ${A}:`,P),[]))),X=(await Promise.all(E)).flat().filter(A=>{const P=O.indexOf(parseInt(I));if(P===-1)return!1;const w=`ANNEE${P+1}`;return A[w]!==null&&A[w]!==0});T(X);const se={};R.forEach(A=>{se[A.key]=X.filter(P=>P[A.key]===1)}),V(se);const Ae={},Ie={};R.forEach(A=>{Ae[A.nom]=se[A.key].length}),J.forEach((A,P)=>{Ie[A.title]=X.filter(w=>!!(A.id==="passerelle"&&w.TYPEFORMATIONPASSERELLE||A.id==="transversal"&&w.TYPEFORMATIONTRANSVERSALLE||A.id==="specialisation"&&w.TYPEFORMATIONSPECIALISATIONFONCTIONEL||A.id==="individuel"&&w.TYPEFORMATIONINDIVIDUELLE||A.id==="autoformation"&&w.TYPEAUTOFORMATION)).length}),ie({totalFormations:X.length,formationsParMois:Ae,axesRepartition:Ie})}catch(h){console.error("Erreur lors de la récupération des formations:",h),z.error("Erreur lors du chargement des formations")}finally{_(!1)}})()},[j,I,O]);const M=i=>{const p=i.target.value;D(p);const h=N.find(E=>E.IDPLAN===p);Y(h)},te=i=>{W(i.target.value)},s=i=>{B({open:!0,formation:i})},x=()=>{B({open:!1,formation:null})},c=i=>i.TYPEFORMATIONPASSERELLE?"#2e7d32":i.TYPEFORMATIONTRANSVERSALLE?"#ed6c02":i.TYPEFORMATIONSPECIALISATIONFONCTIONEL?"#d32f2f":i.TYPEFORMATIONINDIVIDUELLE?"#9c27b0":i.TYPEAUTOFORMATION?"#e65100":"#4A90E2",C=i=>i.TYPEFORMATIONPASSERELLE?"Centre d'Excellence":i.TYPEFORMATIONTRANSVERSALLE?"Formations Transversales":i.TYPEFORMATIONSPECIALISATIONFONCTIONEL?"Spécialisation Fonctionnelle":i.TYPEFORMATIONINDIVIDUELLE?"Formations Individuelles":i.TYPEAUTOFORMATION?"Auto-Formation":"Non spécifié",g=["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"];return e.jsxs(n,{children:[e.jsxs(b,{elevation:0,sx:{p:3,mb:4,borderRadius:3,border:"1px solid",borderColor:"rgba(39, 174, 96, 0.2)",bgcolor:r("#27AE60",.02)},children:[e.jsxs(n,{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:2,children:[e.jsxs(n,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(F,{sx:{width:48,height:48,bgcolor:r("#27AE60",.1),color:"#27AE60"},children:e.jsx(q,{})}),e.jsxs(n,{children:[e.jsx(o,{variant:"h6",fontWeight:"500",color:"#2c3e50",children:"Consultation du Plan Annuel"}),e.jsx(o,{variant:"body2",color:"#7f8c8d",children:"Sélectionnez un plan triennal et une année"})]})]}),e.jsxs(Q,{direction:"row",spacing:2,children:[e.jsxs(le,{sx:{minWidth:200},children:[e.jsx(ce,{children:"Plan Triennal"}),e.jsx(ae,{value:j,onChange:M,label:"Plan Triennal",sx:{borderRadius:2},children:N.map(i=>e.jsx(de,{value:i.IDPLAN,children:`${i.ANNEE1} - ${i.ANNEE2} - ${i.ANNEE3}`},i.IDPLAN))})]}),e.jsxs(le,{sx:{minWidth:150},children:[e.jsx(ce,{children:"Année"}),e.jsx(ae,{value:I,onChange:te,label:"Année",disabled:!j,sx:{borderRadius:2},children:O.map(i=>e.jsx(de,{value:i,children:i},i))})]})]})]}),I&&S.totalFormations>0&&e.jsx(G,{in:!0,children:e.jsxs(n,{sx:{mt:3,p:2,bgcolor:r("#27AE60",.05),borderRadius:2,display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[e.jsx(ve,{sx:{color:"#27AE60"}}),e.jsxs(o,{variant:"body2",color:"#2c3e50",children:[e.jsxs("strong",{children:["Année ",I]})," • ",S.totalFormations," formation(s) planifiée(s)"]}),e.jsx(n,{sx:{flex:1}}),e.jsx(v,{size:"small",label:`Plan: ${u?.ANNEE1}-${u?.ANNEE3}`,variant:"outlined"})]})})]}),I&&S.totalFormations>0&&!L&&e.jsx(G,{in:!0,children:e.jsxs(l,{container:!0,spacing:3,sx:{mb:4},children:[e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(b,{elevation:0,sx:{p:2,borderRadius:3,border:"1px solid",borderColor:"rgba(0,0,0,0.05)",bgcolor:"white"},children:[e.jsx(o,{variant:"subtitle2",fontWeight:"600",color:"#2c3e50",gutterBottom:!0,children:"Répartition par axe"}),e.jsx(Q,{direction:"row",spacing:1,flexWrap:"wrap",useFlexGap:!0,children:Object.entries(S.axesRepartition).map(([i,p])=>e.jsx(v,{label:`${i}: ${p}`,size:"small",sx:{m:.5}},i))})]})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(b,{elevation:0,sx:{p:2,borderRadius:3,border:"1px solid",borderColor:"rgba(0,0,0,0.05)",bgcolor:"white"},children:[e.jsx(o,{variant:"subtitle2",fontWeight:"600",color:"#2c3e50",gutterBottom:!0,children:"Formations par mois"}),e.jsx(l,{container:!0,spacing:1,children:R.map((i,p)=>e.jsx(l,{item:!0,xs:6,sm:3,children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsxs(o,{variant:"caption",sx:{minWidth:30},children:[i.nom.slice(0,3),":"]}),e.jsx(Ye,{variant:"determinate",value:S.formationsParMois[i.nom]/S.totalFormations*100,sx:{flex:1,height:6,borderRadius:3,bgcolor:r("#27AE60",.1),"& .MuiLinearProgress-bar":{bgcolor:"#27AE60",borderRadius:3}}}),e.jsx(o,{variant:"caption",sx:{minWidth:25},children:S.formationsParMois[i.nom]})]})},i.key))})]})})]})}),L&&e.jsx(n,{display:"flex",justifyContent:"center",alignItems:"center",py:8,children:e.jsx(Ne,{sx:{color:"#27AE60"}})}),!L&&I&&e.jsx(be,{children:e.jsxs(l,{container:!0,spacing:3,children:[R.map((i,p)=>{const h=t[i.key]||[];return h.length===0?null:e.jsx(l,{item:!0,xs:12,children:e.jsxs(no,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:p*.05},sx:{borderRadius:3,border:"1px solid",borderColor:r("#27AE60",.2),overflow:"hidden"},children:[e.jsxs(n,{sx:{p:2,bgcolor:r("#27AE60",.05),borderBottom:"1px solid",borderColor:r("#27AE60",.2),display:"flex",alignItems:"center",gap:2},children:[e.jsx(F,{sx:{width:40,height:40,bgcolor:r("#27AE60",.1),color:"#27AE60"},children:e.jsx(ee,{})}),e.jsxs(n,{children:[e.jsxs(o,{variant:"h6",fontWeight:"500",color:"#2c3e50",children:[i.nom," ",I]}),e.jsxs(o,{variant:"caption",color:"#7f8c8d",children:[h.length," formation(s) planifiée(s)"]})]})]}),e.jsx(n,{sx:{p:2},children:e.jsx(Se,{component:b,sx:{boxShadow:"none",border:"1px solid",borderColor:"rgba(0,0,0,0.05)"},children:e.jsxs(Re,{size:"small",children:[e.jsx(Fe,{sx:{bgcolor:r("#27AE60",.03)},children:e.jsxs(re,{children:[e.jsx(f,{sx:{fontWeight:500},children:"Axe"}),e.jsx(f,{sx:{fontWeight:500},children:"Intitulé"}),e.jsx(f,{sx:{fontWeight:500},children:"Cibles"}),e.jsx(f,{sx:{fontWeight:500},children:"Lieu"}),e.jsx(f,{sx:{fontWeight:500},children:"Prestataire"}),e.jsx(f,{sx:{fontWeight:500},align:"center",children:"Actions"})]})}),e.jsx(Oe,{children:h.map(E=>{const $=c(E),Ee=C(E);return e.jsxs(re,{sx:{"&:hover":{bgcolor:r($,.02)},borderLeft:"3px solid",borderLeftColor:$},children:[e.jsx(f,{children:e.jsx(v,{size:"small",label:Ee,sx:{bgcolor:r($,.1),color:$,fontWeight:500}})}),e.jsx(f,{children:e.jsx(o,{variant:"body2",fontWeight:"500",children:E.INTITULE||"Non spécifié"})}),e.jsx(f,{children:e.jsx(o,{variant:"body2",color:"#7f8c8d",children:E.CIBLES||"-"})}),e.jsx(f,{children:e.jsx(o,{variant:"body2",color:"#7f8c8d",children:E.LIEU||"-"})}),e.jsx(f,{children:e.jsx(o,{variant:"body2",color:"#7f8c8d",children:E.PRESTATAIREPEDAGOGIQUE||"-"})}),e.jsx(f,{align:"center",children:e.jsx(xe,{title:"Voir les détails",children:e.jsx(U,{size:"small",sx:{color:$},onClick:()=>s(E),children:e.jsx(ge,{fontSize:"small"})})})})]},E.IDFORMATIONM)})})]})})})]})},i.key)}),S.totalFormations===0&&e.jsx(l,{item:!0,xs:12,children:e.jsxs(b,{sx:{p:6,textAlign:"center",bgcolor:r("#27AE60",.02),borderRadius:3,border:"1px dashed",borderColor:r("#27AE60",.3)},children:[e.jsx(q,{sx:{fontSize:48,color:r("#27AE60",.3),mb:2}}),e.jsx(o,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Aucune formation trouvée"}),e.jsxs(o,{variant:"body2",color:"text.secondary",children:["Aucune formation planifiée pour l'année ",I]})]})})]})}),!I&&!L&&j&&e.jsxs(b,{sx:{p:6,textAlign:"center",bgcolor:r("#27AE60",.02),borderRadius:3,border:"1px dashed",borderColor:r("#27AE60",.3)},children:[e.jsx(ve,{sx:{fontSize:48,color:r("#27AE60",.3),mb:2}}),e.jsx(o,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Sélectionnez une année"}),e.jsx(o,{variant:"body2",color:"text.secondary",children:"Choisissez une année pour voir les formations planifiées"})]}),e.jsx(Pe,{open:a.open,onClose:x,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:3,overflow:"hidden"}},children:a.formation&&e.jsxs(e.Fragment,{children:[e.jsxs(we,{sx:{bgcolor:r(c(a.formation),.05),borderBottom:"1px solid",borderColor:r(c(a.formation),.2),display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(n,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(F,{sx:{bgcolor:r(c(a.formation),.1),color:c(a.formation)},children:e.jsx(he,{})}),e.jsxs(n,{children:[e.jsx(o,{variant:"h6",fontWeight:"600",color:"#2c3e50",children:a.formation.INTITULE||"Formation"}),e.jsxs(o,{variant:"caption",color:"#7f8c8d",children:[C(a.formation)," • ID: ",a.formation.IDFORMATIONM]})]})]}),e.jsx(U,{onClick:x,size:"small",children:e.jsx(Me,{})})]}),e.jsx(Le,{sx:{p:3},children:e.jsxs(l,{container:!0,spacing:3,children:[e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(b,{elevation:0,sx:{p:2,borderRadius:2,border:"1px solid",borderColor:r(c(a.formation),.2),height:"100%"},children:[e.jsxs(n,{display:"flex",alignItems:"center",gap:1,mb:1.5,children:[e.jsx(ze,{sx:{color:c(a.formation),fontSize:20}}),e.jsx(o,{variant:"subtitle2",fontWeight:"600",color:"#2c3e50",children:"Objectifs pédagogiques"})]}),e.jsx(o,{variant:"body2",color:"#7f8c8d",sx:{whiteSpace:"pre-wrap"},children:a.formation.OBJECTIFS||"Aucun objectif renseigné"})]})}),e.jsx(l,{item:!0,xs:12,md:6,children:e.jsxs(b,{elevation:0,sx:{p:2,borderRadius:2,border:"1px solid",borderColor:r(c(a.formation),.2),height:"100%"},children:[e.jsxs(n,{display:"flex",alignItems:"center",gap:1,mb:1.5,children:[e.jsx(ke,{sx:{color:c(a.formation),fontSize:20}}),e.jsx(o,{variant:"subtitle2",fontWeight:"600",color:"#2c3e50",children:"Résultats attendus"})]}),e.jsx(o,{variant:"body2",color:"#7f8c8d",sx:{whiteSpace:"pre-wrap"},children:a.formation.RESULTATATTENDU||"Aucun résultat renseigné"})]})}),e.jsx(l,{item:!0,xs:12,children:e.jsxs(b,{elevation:0,sx:{p:2,borderRadius:2,border:"1px solid",borderColor:r(c(a.formation),.2)},children:[e.jsx(o,{variant:"subtitle2",fontWeight:"600",color:"#2c3e50",gutterBottom:!0,children:"Informations générales"}),e.jsxs(l,{container:!0,spacing:2,children:[e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(n,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(De,{sx:{color:c(a.formation),fontSize:18}}),e.jsxs(n,{children:[e.jsx(o,{variant:"caption",color:"#7f8c8d",children:"Cibles"}),e.jsx(o,{variant:"body2",children:a.formation.CIBLES||"Non spécifié"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(n,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(We,{sx:{color:c(a.formation),fontSize:18}}),e.jsxs(n,{children:[e.jsx(o,{variant:"caption",color:"#7f8c8d",children:"Lieu"}),e.jsx(o,{variant:"body2",children:a.formation.LIEU||"Non spécifié"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(n,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(Z,{sx:{color:c(a.formation),fontSize:18}}),e.jsxs(n,{children:[e.jsx(o,{variant:"caption",color:"#7f8c8d",children:"Prestataire"}),e.jsx(o,{variant:"body2",children:a.formation.PRESTATAIREPEDAGOGIQUE||"Non spécifié"})]})]})}),e.jsx(l,{item:!0,xs:12,sm:6,md:3,children:e.jsxs(n,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(Be,{sx:{color:c(a.formation),fontSize:18}}),e.jsxs(n,{children:[e.jsx(o,{variant:"caption",color:"#7f8c8d",children:"Montant"}),e.jsx(o,{variant:"body2",children:a.formation.MONTANT?`${a.formation.MONTANT} FCFA`:"Non spécifié"})]})]})})]})]})}),e.jsx(l,{item:!0,xs:12,children:e.jsxs(b,{elevation:0,sx:{p:2,borderRadius:2,border:"1px solid",borderColor:r(c(a.formation),.2)},children:[e.jsx(o,{variant:"subtitle2",fontWeight:"600",color:"#2c3e50",gutterBottom:!0,children:"Planification annuelle"}),e.jsx(l,{container:!0,spacing:1,children:g.map((i,p)=>e.jsx(l,{item:!0,xs:6,sm:4,md:3,children:e.jsxs(n,{sx:{p:1,borderRadius:1,bgcolor:a.formation[R[p].key]===1?r(c(a.formation),.1):"transparent",border:"1px solid",borderColor:a.formation[R[p].key]===1?c(a.formation):"#e0e0e0",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(o,{variant:"body2",color:a.formation[R[p].key]===1?c(a.formation):"#7f8c8d",children:i}),a.formation[R[p].key]===1&&e.jsx(v,{size:"small",label:"Prévu",sx:{height:20,fontSize:"0.6rem",bgcolor:r(c(a.formation),.2),color:c(a.formation)}})]})},p))})]})})]})}),e.jsx($e,{sx:{p:2,bgcolor:"#f8f9fa",borderTop:"1px solid",borderColor:"rgba(0,0,0,0.05)"},children:e.jsx(oe,{onClick:x,variant:"outlined",sx:{borderRadius:2},children:"Fermer"})})]})})]})},to=ne(me),ye=ne(b),Mo=()=>{Ve();const[N,k]=m.useState("home"),[j,D]=m.useState(null),u=[{id:"planTriennal",title:"Plan Triennal",icon:ee,color:"#4A90E2",gradient:"linear-gradient(135deg, #4A90E2 0%, #7B68EE 100%)",description:"Consultez les plans de formation sur 3 ans",stats:{count:3,period:"2024-2026"},component:e.jsx(ro,{})},{id:"planAnnuel",title:"Plan Annuel",icon:q,color:"#27AE60",gradient:"linear-gradient(135deg, #27AE60 0%, #2ECC71 100%)",description:"Consultez les plans de formation annuels",stats:{count:12,period:"2024"},component:e.jsx(io,{})}],Y=[{id:"centreExcellence",title:"Centre d'Excellence",icon:ue,color:"#2e7d32"},{id:"formationTransversal",title:"Formations Transversales",icon:pe,color:"#ed6c02"},{id:"specialisation",title:"Spécialisation Fonctionnelle",icon:fe,color:"#d32f2f"},{id:"formationIndividuelles",title:"Formations Individuelles",icon:Z,color:"#9c27b0"},{id:"autoFormation",title:"Auto-Formation",icon:je,color:"#e65100"}],I=d=>{const y=u.find(T=>T.id===d);k(d),D(y)},W=()=>{k("home"),D(null)},O=()=>N==="home"?null:u.find(y=>y.id===N)?.component;return e.jsxs(n,{sx:{width:"100%",minHeight:"100vh",bgcolor:"#fafafa",position:"relative",overflow:"hidden"},children:[e.jsx(n,{sx:{position:"absolute",top:-50,right:-50,width:200,height:200,borderRadius:"50%",background:"radial-gradient(circle, rgba(74,144,226,0.03) 0%, rgba(74,144,226,0) 70%)",zIndex:0}}),e.jsx(n,{sx:{position:"absolute",bottom:-50,left:-50,width:200,height:200,borderRadius:"50%",background:"radial-gradient(circle, rgba(39,174,96,0.03) 0%, rgba(39,174,96,0) 70%)",zIndex:0}}),e.jsx(Je,{position:"top-right",autoClose:3e3}),e.jsxs(Xe,{maxWidth:"lg",sx:{position:"relative",zIndex:1,py:4},children:[e.jsx(G,{in:!0,timeout:1e3,children:e.jsx(ye,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},elevation:0,sx:{p:4,mb:4,borderRadius:3,background:"white",border:"1px solid",borderColor:"rgba(0,0,0,0.05)",boxShadow:"0 4px 20px rgba(0,0,0,0.02)"},children:e.jsxs(n,{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:2,children:[e.jsxs(n,{display:"flex",alignItems:"center",children:[e.jsx(F,{sx:{width:60,height:60,bgcolor:r("#4A90E2",.1),color:"#4A90E2",mr:2},children:e.jsx(eo,{sx:{fontSize:30}})}),e.jsxs(n,{children:[e.jsx(o,{variant:"h4",fontWeight:"500",color:"#2c3e50",gutterBottom:!0,children:"Consultation des Plans"}),e.jsx(o,{variant:"body1",color:"#7f8c8d",children:"Visualisez et téléchargez vos plans de formation"})]})]}),N!=="home"&&e.jsx(oe,{variant:"outlined",onClick:W,startIcon:e.jsx(_e,{}),sx:{borderRadius:2,textTransform:"none",borderColor:"#e0e0e0",color:"#2c3e50","&:hover":{borderColor:j?.color||"#4A90E2",bgcolor:r(j?.color||"#4A90E2",.02)}},children:"Retour à l'accueil"})]})})}),e.jsx(be,{mode:"wait",children:N==="home"?e.jsxs(ye,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},elevation:0,sx:{bgcolor:"transparent"},children:[e.jsx(l,{container:!0,spacing:3,sx:{mb:5},children:u.map((d,y)=>{const T=d.icon;return e.jsx(l,{item:!0,xs:12,md:6,children:e.jsx(He,{in:!0,timeout:(y+1)*300,children:e.jsxs(to,{whileHover:{y:-4},sx:{height:"100%",borderRadius:3,border:"1px solid",borderColor:"rgba(0,0,0,0.05)",transition:"all 0.3s ease",overflow:"hidden","&:hover":{boxShadow:"0 10px 30px rgba(0,0,0,0.05)",borderColor:r(d.color,.2)}},children:[e.jsx(n,{sx:{height:6,background:d.gradient}}),e.jsxs(Ke,{onClick:()=>I(d.id),sx:{p:3},children:[e.jsxs(n,{display:"flex",alignItems:"center",mb:2,children:[e.jsx(F,{sx:{width:56,height:56,bgcolor:r(d.color,.1),color:d.color,mr:2},children:e.jsx(T,{sx:{fontSize:28}})}),e.jsxs(n,{flex:1,children:[e.jsx(o,{variant:"h5",fontWeight:"500",color:"#2c3e50",children:d.title}),e.jsx(o,{variant:"body2",color:"#7f8c8d",children:d.description})]})]}),e.jsxs(n,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(Q,{direction:"row",spacing:1,children:[e.jsx(v,{size:"small",label:`${d.stats.count} plan(s)`,variant:"outlined",sx:{borderRadius:1.5}}),e.jsx(v,{size:"small",label:d.stats.period,variant:"outlined",sx:{borderRadius:1.5}})]}),e.jsx(xe,{title:"Consulter",children:e.jsx(U,{size:"small",sx:{color:d.color,bgcolor:r(d.color,.1),"&:hover":{bgcolor:r(d.color,.2)}},children:e.jsx(ge,{fontSize:"small"})})})]})]})]})})},d.id)})}),e.jsxs(b,{elevation:0,sx:{p:3,borderRadius:3,background:"white",border:"1px solid",borderColor:"rgba(0,0,0,0.05)"},children:[e.jsx(o,{variant:"h6",fontWeight:"500",color:"#2c3e50",gutterBottom:!0,children:"Axes de formation disponibles"}),e.jsx(o,{variant:"body2",color:"#7f8c8d",sx:{mb:3},children:"Les plans détaillés sont organisés par axe"}),e.jsx(l,{container:!0,spacing:2,children:Y.map((d,y)=>{const T=d.icon;return e.jsx(l,{item:!0,xs:12,sm:6,md:4,children:e.jsx(G,{in:!0,timeout:500+y*100,children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",p:1.5,borderRadius:2,bgcolor:r(d.color,.02),border:"1px solid",borderColor:r(d.color,.1)},children:[e.jsx(F,{sx:{width:32,height:32,bgcolor:r(d.color,.1),color:d.color,mr:1.5},children:e.jsx(T,{sx:{fontSize:18}})}),e.jsx(o,{variant:"body2",fontWeight:"500",color:"#2c3e50",children:d.title})]})})},d.id)})})]}),e.jsxs(n,{sx:{mt:3,p:2,bgcolor:r("#4A90E2",.02),borderRadius:2,border:"1px solid",borderColor:r("#4A90E2",.1),display:"flex",alignItems:"center",gap:2},children:[e.jsx(he,{sx:{color:r("#4A90E2",.5),fontSize:20}}),e.jsx(o,{variant:"body2",color:"#7f8c8d",children:"Sélectionnez un plan pour voir le détail des formations par axe"})]})]},"home"):e.jsx(Ge,{in:!0,children:e.jsxs(b,{elevation:0,sx:{p:3,borderRadius:3,border:"1px solid",borderColor:"rgba(0,0,0,0.05)",background:"white",position:"relative"},children:[e.jsxs(n,{display:"flex",alignItems:"center",mb:3,children:[e.jsx(F,{sx:{width:48,height:48,bgcolor:r(j?.color||"#4A90E2",.1),color:j?.color||"#4A90E2",mr:2},children:j&&Ce.createElement(j.icon)}),e.jsxs(n,{children:[e.jsx(o,{variant:"h5",fontWeight:"500",color:"#2c3e50",children:j?.title}),e.jsx(o,{variant:"body2",color:"#7f8c8d",children:j?.description})]})]}),O()]})})})]})]})};export{Mo as default};
