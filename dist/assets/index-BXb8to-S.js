import{r as b,aS as Tt,bE as Re,bD as Rt,bo as ut,bm as At,bF as rt,bG as Fe,bH as at,d as g,b9 as Ve,g as jt,b as $t,e as Me,j as i,c as It,aT as zt,_ as Et,bI as fe,s as ve,f as ge,h as _t,av as Le,bJ as bt,l as Ne,E as Ft,a0 as Vt,$ as Ht,B as me,z as dt,T as he}from"./index-zHPv1lze.js";import{B as ot}from"./Button-0T1tR8_c.js";import{S as Nt}from"./Settings-B2J8IDH3.js";import{F as je}from"./FormControlLabel-D_GYa5-T.js";import{S as $e}from"./Switch-Dv7hQiiI.js";import"./ButtonGroupButtonContext-BYVHV5Ft.js";import"./useFormControl-BwsGWz84.js";import"./SwitchBase-CEgujy3G.js";const Bt={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Dt(t,e,r=(o,n)=>o===n){return t.length===e.length&&t.every((o,n)=>r(o,e[n]))}const Ot=2;function vt(t,e){return t-e}function ht(t,e){var r;const{index:o}=(r=t.reduce((n,k,y)=>{const d=Math.abs(e-k);return n===null||d<n.distance||d===n.distance?{distance:d,index:y}:n},null))!=null?r:{};return o}function Ie(t,e){if(e.current!==void 0&&t.changedTouches){const r=t;for(let o=0;o<r.changedTouches.length;o+=1){const n=r.changedTouches[o];if(n.identifier===e.current)return{x:n.clientX,y:n.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function He(t,e,r){return(t-e)*100/(r-e)}function Wt(t,e,r){return(r-e)*t+e}function Yt(t){if(Math.abs(t)<1){const r=t.toExponential().split("e-"),o=r[0].split(".")[1];return(o?o.length:0)+parseInt(r[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function Xt(t,e,r){const o=Math.round((t-r)/e)*e+r;return Number(o.toFixed(Yt(e)))}function pt({values:t,newValue:e,index:r}){const o=t.slice();return o[r]=e,o.sort(vt)}function ze({sliderRef:t,activeIndex:e,setActive:r}){var o,n;const k=Fe(t.current);if(!((o=t.current)!=null&&o.contains(k.activeElement))||Number(k==null||(n=k.activeElement)==null?void 0:n.getAttribute("data-index"))!==e){var y;(y=t.current)==null||y.querySelector(`[type="range"][data-index="${e}"]`).focus()}r&&r(e)}function Ee(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?Dt(t,e):!1}const Ut={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},qt=t=>t;let _e;function ft(){return _e===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?_e=CSS.supports("touch-action","none"):_e=!0),_e}function Kt(t){const{"aria-labelledby":e,defaultValue:r,disabled:o=!1,disableSwap:n=!1,isRtl:k=!1,marks:y=!1,max:d=100,min:p=0,name:M,onChange:$,onChangeCommitted:A,orientation:Y="horizontal",rootRef:oe,scale:Q=qt,step:I=1,shiftStep:ne=10,tabIndex:Z,value:z}=t,H=b.useRef(void 0),[X,D]=b.useState(-1),[O,c]=b.useState(-1),[w,u]=b.useState(!1),W=b.useRef(0),[S,U]=Tt({controlled:z,default:r??p,name:"Slider"}),T=$&&((a,s,l)=>{const f=a.nativeEvent||a,m=new f.constructor(f.type,f);Object.defineProperty(m,"target",{writable:!0,value:{value:s,name:M}}),$(m,s,l)}),q=Array.isArray(S);let P=q?S.slice().sort(vt):[S];P=P.map(a=>a==null?p:Re(a,p,d));const le=y===!0&&I!==null?[...Array(Math.floor((d-p)/I)+1)].map((a,s)=>({value:p+I*s})):y||[],v=le.map(a=>a.value),{isFocusVisibleRef:N,onBlur:xe,onFocus:ye,ref:we}=Rt(),[Se,ce]=b.useState(-1),E=b.useRef(null),_=ut(we,E),K=ut(oe,_),B=a=>s=>{var l;const f=Number(s.currentTarget.getAttribute("data-index"));ye(s),N.current===!0&&ce(f),c(f),a==null||(l=a.onFocus)==null||l.call(a,s)},F=a=>s=>{var l;xe(s),N.current===!1&&ce(-1),c(-1),a==null||(l=a.onBlur)==null||l.call(a,s)},ee=(a,s)=>{const l=Number(a.currentTarget.getAttribute("data-index")),f=P[l],m=v.indexOf(f);let h=s;if(le&&I==null){const ae=v[v.length-1];h>ae?h=ae:h<v[0]?h=v[0]:h=h<f?v[m-1]:v[m+1]}if(h=Re(h,p,d),q){n&&(h=Re(h,P[l-1]||-1/0,P[l+1]||1/0));const ae=h;h=pt({values:P,newValue:h,index:l});let ie=l;n||(ie=h.indexOf(ae)),ze({sliderRef:E,activeIndex:ie})}U(h),ce(l),T&&!Ee(h,S)&&T(a,h,l),A&&A(a,h)},se=a=>s=>{var l;if(I!==null){const f=Number(s.currentTarget.getAttribute("data-index")),m=P[f];let h=null;(s.key==="ArrowLeft"||s.key==="ArrowDown")&&s.shiftKey||s.key==="PageDown"?h=Math.max(m-ne,p):((s.key==="ArrowRight"||s.key==="ArrowUp")&&s.shiftKey||s.key==="PageUp")&&(h=Math.min(m+ne,d)),h!==null&&(ee(s,h),s.preventDefault())}a==null||(l=a.onKeyDown)==null||l.call(a,s)};At(()=>{if(o&&E.current.contains(document.activeElement)){var a;(a=document.activeElement)==null||a.blur()}},[o]),o&&X!==-1&&D(-1),o&&Se!==-1&&ce(-1);const ke=a=>s=>{var l;(l=a.onChange)==null||l.call(a,s),ee(s,s.target.valueAsNumber)},be=b.useRef(void 0);let ue=Y;k&&Y==="horizontal"&&(ue+="-reverse");const L=({finger:a,move:s=!1})=>{const{current:l}=E,{width:f,height:m,bottom:h,left:ae}=l.getBoundingClientRect();let ie;ue.indexOf("vertical")===0?ie=(h-a.y)/m:ie=(a.x-ae)/f,ue.indexOf("-reverse")!==-1&&(ie=1-ie);let x;if(x=Wt(ie,p,d),I)x=Xt(x,I,p);else{const Ce=ht(v,x);x=v[Ce]}x=Re(x,p,d);let G=0;if(q){s?G=be.current:G=ht(P,x),n&&(x=Re(x,P[G-1]||-1/0,P[G+1]||1/0));const Ce=x;x=pt({values:P,newValue:x,index:G}),n&&s||(G=x.indexOf(Ce),be.current=G)}return{newValue:x,activeIndex:G}},C=rt(a=>{const s=Ie(a,H);if(!s)return;if(W.current+=1,a.type==="mousemove"&&a.buttons===0){te(a);return}const{newValue:l,activeIndex:f}=L({finger:s,move:!0});ze({sliderRef:E,activeIndex:f,setActive:D}),U(l),!w&&W.current>Ot&&u(!0),T&&!Ee(l,S)&&T(a,l,f)}),te=rt(a=>{const s=Ie(a,H);if(u(!1),!s)return;const{newValue:l}=L({finger:s,move:!0});D(-1),a.type==="touchend"&&c(-1),A&&A(a,l),H.current=void 0,re()}),pe=rt(a=>{if(o)return;ft()||a.preventDefault();const s=a.changedTouches[0];s!=null&&(H.current=s.identifier);const l=Ie(a,H);if(l!==!1){const{newValue:m,activeIndex:h}=L({finger:l});ze({sliderRef:E,activeIndex:h,setActive:D}),U(m),T&&!Ee(m,S)&&T(a,m,h)}W.current=0;const f=Fe(E.current);f.addEventListener("touchmove",C,{passive:!0}),f.addEventListener("touchend",te,{passive:!0})}),re=b.useCallback(()=>{const a=Fe(E.current);a.removeEventListener("mousemove",C),a.removeEventListener("mouseup",te),a.removeEventListener("touchmove",C),a.removeEventListener("touchend",te)},[te,C]);b.useEffect(()=>{const{current:a}=E;return a.addEventListener("touchstart",pe,{passive:ft()}),()=>{a.removeEventListener("touchstart",pe),re()}},[re,pe]),b.useEffect(()=>{o&&re()},[o,re]);const Be=a=>s=>{var l;if((l=a.onMouseDown)==null||l.call(a,s),o||s.defaultPrevented||s.button!==0)return;s.preventDefault();const f=Ie(s,H);if(f!==!1){const{newValue:h,activeIndex:ae}=L({finger:f});ze({sliderRef:E,activeIndex:ae,setActive:D}),U(h),T&&!Ee(h,S)&&T(s,h,ae)}W.current=0;const m=Fe(E.current);m.addEventListener("mousemove",C,{passive:!0}),m.addEventListener("mouseup",te)},V=He(q?P[0]:p,p,d),Pe=He(P[P.length-1],p,d)-V,De=(a={})=>{const s=at(a),l={onMouseDown:Be(s||{})},f=g({},s,l);return g({},a,{ref:K},f)},Oe=a=>s=>{var l;(l=a.onMouseOver)==null||l.call(a,s);const f=Number(s.currentTarget.getAttribute("data-index"));c(f)},We=a=>s=>{var l;(l=a.onMouseLeave)==null||l.call(a,s),c(-1)};return{active:X,axis:ue,axisProps:Ut,dragging:w,focusedThumbIndex:Se,getHiddenInputProps:(a={})=>{var s;const l=at(a),f={onChange:ke(l||{}),onFocus:B(l||{}),onBlur:F(l||{}),onKeyDown:se(l||{})},m=g({},l,f);return g({tabIndex:Z,"aria-labelledby":e,"aria-orientation":Y,"aria-valuemax":Q(d),"aria-valuemin":Q(p),name:M,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":(s=t.step)!=null?s:void 0,disabled:o},a,m,{style:g({},Bt,{direction:k?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:De,getThumbProps:(a={})=>{const s=at(a),l={onMouseOver:Oe(s||{}),onMouseLeave:We(s||{})};return g({},a,s,l)},marks:le,open:O,range:q,rootRef:K,trackLeap:Pe,trackOffset:V,values:P,getThumbStyle:a=>({pointerEvents:X!==-1&&X!==a?"none":void 0})}}const Gt=t=>!t||!Ve(t);function Jt(t){return $t("MuiSlider",t)}const J=jt("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Qt=t=>{const{open:e}=t;return{offset:Me(e&&J.valueLabelOpen),circle:J.valueLabelCircle,label:J.valueLabelLabel}};function Zt(t){const{children:e,className:r,value:o}=t,n=Qt(t);return e?b.cloneElement(e,{className:Me(e.props.className)},i.jsxs(b.Fragment,{children:[e.props.children,i.jsx("span",{className:Me(n.offset,r),"aria-hidden":!0,children:i.jsx("span",{className:n.circle,children:i.jsx("span",{className:n.label,children:o})})})]})):null}const er=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function mt(t){return t}const tr=ve("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`color${ge(r.color)}`],r.size!=="medium"&&e[`size${ge(r.size)}`],r.marked&&e.marked,r.orientation==="vertical"&&e.vertical,r.track==="inverted"&&e.trackInverted,r.track===!1&&e.trackFalse]}})(({theme:t})=>{var e;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${J.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${J.dragging}`]:{[`& .${J.thumb}, & .${J.track}`]:{transition:"none"}},variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var o;return((o=t.vars)!=null?o:t).palette[r].main}).map(r=>({props:{color:r},style:{color:(t.vars||t).palette[r].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}}),rr=ve("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),ar=ve("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>{var e;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var o;return((o=t.vars)!=null?o:t).palette[r].main}).map(r=>({props:{color:r,track:"inverted"},style:g({},t.vars?{backgroundColor:t.vars.palette.Slider[`${r}Track`],borderColor:t.vars.palette.Slider[`${r}Track`]}:g({backgroundColor:Le.lighten(t.palette[r].main,.62),borderColor:Le.lighten(t.palette[r].main,.62)},t.applyStyles("dark",{backgroundColor:Le.darken(t.palette[r].main,.5)}),t.applyStyles("dark",{borderColor:Le.darken(t.palette[r].main,.5)})))}))]}}),or=ve("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.thumb,e[`thumbColor${ge(r.color)}`],r.size!=="medium"&&e[`thumbSize${ge(r.size)}`]]}})(({theme:t})=>{var e;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${J.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var o;return((o=t.vars)!=null?o:t).palette[r].main}).map(r=>({props:{color:r},style:{[`&:hover, &.${J.focusVisible}`]:g({},t.vars?{boxShadow:`0px 0px 0px 8px rgba(${t.vars.palette[r].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${Le.alpha(t.palette[r].main,.16)}`},{"@media (hover: none)":{boxShadow:"none"}}),[`&.${J.active}`]:g({},t.vars?{boxShadow:`0px 0px 0px 14px rgba(${t.vars.palette[r].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${Le.alpha(t.palette[r].main,.16)}`})}}))]}}),nr=ve(Zt,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})(({theme:t})=>g({zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${J.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${J.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})),sr=ve("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>bt(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:r}=t;return[e.mark,r&&e.markActive]}})(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]})),ir=ve("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>bt(t)&&t!=="markLabelActive",overridesResolver:(t,e)=>e.markLabel})(({theme:t})=>g({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})),lr=t=>{const{disabled:e,dragging:r,marked:o,orientation:n,track:k,classes:y,color:d,size:p}=t,M={root:["root",e&&"disabled",r&&"dragging",o&&"marked",n==="vertical"&&"vertical",k==="inverted"&&"trackInverted",k===!1&&"trackFalse",d&&`color${ge(d)}`,p&&`size${ge(p)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",p&&`thumbSize${ge(p)}`,d&&`thumbColor${ge(d)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return _t(M,Jt,y)},cr=({children:t})=>t,ur=b.forwardRef(function(e,r){var o,n,k,y,d,p,M,$,A,Y,oe,Q,I,ne,Z,z,H,X,D,O,c,w,u,W;const S=It({props:e,name:"MuiSlider"}),U=zt(),{"aria-label":T,"aria-valuetext":q,"aria-labelledby":P,component:le="span",components:v={},componentsProps:N={},color:xe="primary",classes:ye,className:we,disableSwap:Se=!1,disabled:ce=!1,getAriaLabel:E,getAriaValueText:_,marks:K=!1,max:B=100,min:F=0,orientation:ee="horizontal",shiftStep:se=10,size:ke="medium",step:be=1,scale:ue=mt,slotProps:L,slots:C,track:te="normal",valueLabelDisplay:pe="off",valueLabelFormat:re=mt}=S,Be=Et(S,er),V=g({},S,{isRtl:U,max:B,min:F,classes:ye,disabled:ce,disableSwap:Se,orientation:ee,marks:K,color:xe,size:ke,step:be,shiftStep:se,scale:ue,track:te,valueLabelDisplay:pe,valueLabelFormat:re}),{axisProps:Pe,getRootProps:De,getHiddenInputProps:Oe,getThumbProps:We,open:nt,active:Ye,axis:Te,focusedThumbIndex:a,range:s,dragging:l,marks:f,values:m,trackOffset:h,trackLeap:ae,getThumbStyle:ie}=Kt(g({},V,{rootRef:r}));V.marked=f.length>0&&f.some(R=>R.label),V.dragging=l,V.focusedThumbIndex=a;const x=lr(V),G=(o=(n=C?.root)!=null?n:v.Root)!=null?o:tr,Ce=(k=(y=C?.rail)!=null?y:v.Rail)!=null?k:rr,st=(d=(p=C?.track)!=null?p:v.Track)!=null?d:ar,it=(M=($=C?.thumb)!=null?$:v.Thumb)!=null?M:or,lt=(A=(Y=C?.valueLabel)!=null?Y:v.ValueLabel)!=null?A:nr,Xe=(oe=(Q=C?.mark)!=null?Q:v.Mark)!=null?oe:sr,Ue=(I=(ne=C?.markLabel)!=null?ne:v.MarkLabel)!=null?I:ir,ct=(Z=(z=C?.input)!=null?z:v.Input)!=null?Z:"input",qe=(H=L?.root)!=null?H:N.root,xt=(X=L?.rail)!=null?X:N.rail,Ke=(D=L?.track)!=null?D:N.track,Ge=(O=L?.thumb)!=null?O:N.thumb,Je=(c=L?.valueLabel)!=null?c:N.valueLabel,yt=(w=L?.mark)!=null?w:N.mark,wt=(u=L?.markLabel)!=null?u:N.markLabel,St=(W=L?.input)!=null?W:N.input,kt=fe({elementType:G,getSlotProps:De,externalSlotProps:qe,externalForwardedProps:Be,additionalProps:g({},Gt(G)&&{as:le}),ownerState:g({},V,qe?.ownerState),className:[x.root,we]}),Pt=fe({elementType:Ce,externalSlotProps:xt,ownerState:V,className:x.rail}),Ct=fe({elementType:st,externalSlotProps:Ke,additionalProps:{style:g({},Pe[Te].offset(h),Pe[Te].leap(ae))},ownerState:g({},V,Ke?.ownerState),className:x.track}),Qe=fe({elementType:it,getSlotProps:We,externalSlotProps:Ge,ownerState:g({},V,Ge?.ownerState),className:x.thumb}),Lt=fe({elementType:lt,externalSlotProps:Je,ownerState:g({},V,Je?.ownerState),className:x.valueLabel}),Ze=fe({elementType:Xe,externalSlotProps:yt,ownerState:V,className:x.mark}),et=fe({elementType:Ue,externalSlotProps:wt,ownerState:V,className:x.markLabel}),Mt=fe({elementType:ct,getSlotProps:Oe,externalSlotProps:St,ownerState:V});return i.jsxs(G,g({},kt,{children:[i.jsx(Ce,g({},Pt)),i.jsx(st,g({},Ct)),f.filter(R=>R.value>=F&&R.value<=B).map((R,j)=>{const tt=He(R.value,F,B),Ae=Pe[Te].offset(tt);let de;return te===!1?de=m.indexOf(R.value)!==-1:de=te==="normal"&&(s?R.value>=m[0]&&R.value<=m[m.length-1]:R.value<=m[0])||te==="inverted"&&(s?R.value<=m[0]||R.value>=m[m.length-1]:R.value>=m[0]),i.jsxs(b.Fragment,{children:[i.jsx(Xe,g({"data-index":j},Ze,!Ve(Xe)&&{markActive:de},{style:g({},Ae,Ze.style),className:Me(Ze.className,de&&x.markActive)})),R.label!=null?i.jsx(Ue,g({"aria-hidden":!0,"data-index":j},et,!Ve(Ue)&&{markLabelActive:de},{style:g({},Ae,et.style),className:Me(x.markLabel,et.className,de&&x.markLabelActive),children:R.label})):null]},j)}),m.map((R,j)=>{const tt=He(R,F,B),Ae=Pe[Te].offset(tt),de=pe==="off"?cr:lt;return i.jsx(de,g({},!Ve(de)&&{valueLabelFormat:re,valueLabelDisplay:pe,value:typeof re=="function"?re(ue(R),j):re,index:j,open:nt===j||Ye===j||pe==="on",disabled:ce},Lt,{children:i.jsx(it,g({"data-index":j},Qe,{className:Me(x.thumb,Qe.className,Ye===j&&x.active,a===j&&x.focusVisible),style:g({},Ae,ie(j),Qe.style),children:i.jsx(ct,g({"data-index":j,"aria-label":E?E(j):T,"aria-valuenow":ue(R),"aria-labelledby":P,"aria-valuetext":_?_(ue(R),j):q,value:m[j]},Mt))}))}),j)})]}))}),dr=Ne(i.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3z"}),"MusicNote"),hr=Ne(i.jsx("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"}),"Pause"),pr=Ne(i.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),fr=Ne(i.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile"),gt=Vt({palette:{mode:"dark",primary:{main:"#ff0080"},secondary:{main:"#00ff88"},background:{default:"#000010",paper:"#0a0a1a"}},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",fontWeight:"bold",borderRadius:"20px"}}}}});class mr{constructor(e){this.canvas=e,this.ctx=e.getContext("2d"),this.particles=[],this.maxParticles=200}createParticle(e,r,o,n){if(this.particles.length>=this.maxParticles)return;const k=2+n*5,y=1+o/255*8+n*10;this.particles.push({x:e,y:r,vx:(Math.random()-.5)*k,vy:-Math.random()*k*2,size:y,color:`hsl(${o}, 80%, 60%)`,life:1,decay:.005+Math.random()*.01})}update(e,r){if(e>.1){const o=Math.floor(e*10);for(let n=0;n<o;n++){const k=Math.floor(Math.random()*r.length);this.createParticle(Math.random()*this.canvas.width,this.canvas.height,k*360/r.length,e)}}this.particles=this.particles.filter(o=>(o.x+=o.vx,o.y+=o.vy,o.vy+=.1,o.life-=o.decay,o.life>0&&o.y<this.canvas.height))}draw(){this.particles.forEach(e=>{this.ctx.save(),this.ctx.globalAlpha=e.life,this.ctx.fillStyle=e.color,this.ctx.beginPath(),this.ctx.arc(e.x,e.y,e.size,0,Math.PI*2),this.ctx.fill(),this.ctx.shadowBlur=15,this.ctx.shadowColor=e.color,this.ctx.fill(),this.ctx.restore()})}}class gr{constructor(e){this.canvas=e,this.ctx=e.getContext("2d"),this.stars=[],this.initStars(100)}initStars(e){for(let r=0;r<e;r++)this.stars.push({x:Math.random()*this.canvas.width,y:Math.random()*this.canvas.height,size:Math.random()*2,speed:.2+Math.random()*.8,brightness:Math.random()})}update(e){this.stars.forEach(r=>{r.x-=r.speed*(1+e),r.x<0&&(r.x=this.canvas.width,r.y=Math.random()*this.canvas.height),r.brightness=.3+Math.sin(Date.now()*.001+r.x)*.3})}draw(){this.stars.forEach(e=>{this.ctx.fillStyle=`rgba(255, 255, 255, ${e.brightness})`,this.ctx.beginPath(),this.ctx.arc(e.x,e.y,e.size,0,Math.PI*2),this.ctx.fill()})}}class br{constructor(e){this.canvas=e,this.ctx=e.getContext("2d"),this.width=e.width,this.height=e.height,this.time=0,this.pose={headTilt:0,leftArm:0,rightArm:0,leftLeg:0,rightLeg:0,torsoBounce:0,armSwing:0},this.target={...this.pose}}lerp(e,r,o){return e+(r-e)*o}mapToBipolar(e){return e*2-1}update(e,r,o,n){this.time=o;const k=Math.min(1,e*1.5),y=Math.min(1,r*2),d=n?1.2:1;this.target.torsoBounce=.02*k*d,this.target.headTilt=this.mapToBipolar(Math.abs(Math.sin(o*.003)))*.3*y,this.target.armSwing=y*.9,this.target.leftArm=Math.sin(o*.006)*this.target.armSwing,this.target.rightArm=Math.sin(o*.006+Math.PI)*this.target.armSwing,this.target.leftLeg=Math.sin(o*.004+Math.PI)*(.6*y),this.target.rightLeg=Math.sin(o*.004)*(.6*y);const p=.12;for(let M in this.pose)this.pose[M]=this.lerp(this.pose[M],this.target[M],p)}draw(){const e=this.ctx,r=this.canvas.width,o=this.canvas.height;e.clearRect(0,0,r,o),e.save();const n=r/2,k=o*.62,y=k+this.pose.torsoBounce*40;e.lineJoin="round",e.lineCap="round",e.beginPath(),e.fillStyle="rgba(0,0,0,0.25)",e.ellipse(n,k+60,70,18,0,0,Math.PI*2),e.fill(),e.strokeStyle="#fff",e.lineWidth=8,e.globalAlpha=.95,e.beginPath();const d=y-60,p=n-12,M=p+Math.sin(this.pose.leftLeg)*30,$=d+60+Math.cos(this.pose.leftLeg)*10,A=M+Math.sin(this.pose.leftLeg+.2)*20,Y=$+40;e.moveTo(p,d),e.lineTo(M,$),e.lineTo(A,Y),e.stroke(),e.beginPath();const oe=n+12,Q=oe+Math.sin(this.pose.rightLeg)*30,I=d+60+Math.cos(this.pose.rightLeg)*10,ne=Q+Math.sin(this.pose.rightLeg+.2)*20,Z=I+40;e.moveTo(oe,d),e.lineTo(Q,I),e.lineTo(ne,Z),e.stroke(),e.beginPath(),e.lineWidth=12,e.moveTo(n,d-10),e.lineTo(n,y-40),e.stroke(),e.lineWidth=10,e.beginPath();const z=y-80,H=n-20,X=H+Math.sin(this.pose.leftArm)*50,D=z+Math.cos(this.pose.leftArm)*20,O=X+Math.sin(this.pose.leftArm+.6)*30,c=D+Math.cos(this.pose.leftArm+.6)*30;e.moveTo(H,z),e.lineTo(X,D),e.lineTo(O,c),e.stroke(),e.beginPath();const w=n+20,u=w+Math.sin(this.pose.rightArm)*50,W=z+Math.cos(this.pose.rightArm)*20,S=u+Math.sin(this.pose.rightArm+.6)*30,U=W+Math.cos(this.pose.rightArm+.6)*30;e.moveTo(w,z),e.lineTo(u,W),e.lineTo(S,U),e.stroke(),e.beginPath();const T=y-100+this.pose.headTilt*30,q=22+Math.abs(this.pose.headTilt)*6,P=e.createRadialGradient(n-6,T-6,2,n,T,28);P.addColorStop(0,"rgba(255,255,255,0.95)"),P.addColorStop(1,"rgba(180,255,235,0.2)"),e.fillStyle=P,e.arc(n,T,q,0,Math.PI*2),e.fill(),e.beginPath(),e.lineWidth=2,e.strokeStyle="rgba(0,200,255,0.9)",e.moveTo(n-8,T),e.lineTo(n+8,T),e.stroke(),e.globalAlpha=1,e.shadowBlur=20,e.shadowColor="rgba(0,200,255,0.8)",e.fillStyle="rgba(0,200,255,0.08)",e.beginPath(),e.ellipse(n,T+6,40,10,0,0,Math.PI*2),e.fill(),e.shadowBlur=0,e.restore()}}function Lr(){const[t,e]=b.useState(!1),[r,o]=b.useState(""),[n,k]=b.useState({particles:!0,starfield:!0,waveform:!0,frequencyBars:!0,sensitivity:.7}),y=b.useRef(null),d=b.useRef(null),p=b.useRef(null),M=b.useRef(null),$=b.useRef(null),A=b.useRef(null),Y=b.useRef(null),oe=b.useRef(null),Q=b.useRef(null),I=b.useRef(null),ne=b.useRef(0),Z=b.useRef(0),z=Ft(gt.breakpoints.down("sm"));b.useEffect(()=>{d.current&&(oe.current=new mr(d.current),Q.current=new gr(d.current)),p.current&&(I.current=new br(p.current));const c=()=>{const w=d.current,u=p.current;w&&u&&(u.width=w.width=Math.floor(w.clientWidth*(window.devicePixelRatio||1)),u.height=w.height=Math.floor(w.clientHeight*(window.devicePixelRatio||1)))};return c(),window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c),M.current&&cancelAnimationFrame(M.current),$.current&&$.current.close()}},[]);const H=c=>{const w=c.target.files?.[0];if(!w)return;o(w.name);const u=URL.createObjectURL(w);y.current.src=u,e(!1)},X=async()=>{const c=y.current;if(c?.src)if(t)c.pause(),e(!1),M.current&&cancelAnimationFrame(M.current);else{if(!$.current){const w=window.AudioContext||window.webkitAudioContext;$.current=new w}if(!A.current){A.current=$.current.createAnalyser(),A.current.fftSize=1024;const w=A.current.frequencyBinCount;Y.current=new Uint8Array(w),$.current.createMediaElementSource(c).connect(A.current),A.current.connect($.current.destination)}await c.play(),e(!0),D()}},D=()=>{const c=d.current,w=p.current;if(!c||!w||!A.current||!Y.current)return;const u=c.getContext("2d"),W=A.current,S=Y.current,U=I.current,T=oe.current,q=Q.current,P=()=>{M.current=requestAnimationFrame(P),W.getByteFrequencyData(S);const le=u.createRadialGradient(c.width/2,c.height/2,0,c.width/2,c.height/2,c.width);le.addColorStop(0,"rgba(10, 10, 30, 0.1)"),le.addColorStop(1,"rgba(0, 0, 20, 0.3)"),u.fillStyle=le,u.fillRect(0,0,c.width,c.height);const v=S.reduce((_,K)=>_+K,0)/S.length/255,N=ne.current,xe=v>N*1.35&&v>.08&&Z.current<=0;if(xe&&(Z.current=8),Z.current>0&&(Z.current-=1),ne.current=N*.8+v*.2,n.starfield&&(q.update(v*n.sensitivity),q.draw()),n.frequencyBars){const _=c.width/S.length*1.5;let K=0;for(let B=0;B<S.length;B++){const F=S[B]/255*c.height*n.sensitivity,ee=B*360/S.length,se=u.createLinearGradient(0,0,0,c.height);se.addColorStop(0,`hsla(${ee}, 100%, 60%, 0.9)`),se.addColorStop(1,`hsla(${ee}, 100%, 30%, 0.4)`),u.fillStyle=se,u.fillRect(K,c.height/2-F,_,F),u.fillStyle=`hsla(${ee}, 80%, 50%, 0.25)`,u.fillRect(K,c.height/2,_,F),K+=_+1}}if(n.waveform){W.getByteTimeDomainData(S),u.strokeStyle=`rgba(255, 0, 128, ${.5+v*.5})`,u.lineWidth=2+v*5,u.beginPath();const _=c.width/2,K=c.height/2,B=50+v*100;for(let F=0;F<S.length;F++){const ee=F/S.length*Math.PI*2,se=(S[F]-128)*n.sensitivity,ke=_+Math.cos(ee)*(B+se),be=K+Math.sin(ee)*(B+se);F===0?u.moveTo(ke,be):u.lineTo(ke,be)}u.closePath(),u.stroke()}n.particles&&(T.update(v*n.sensitivity,S),T.draw()),u.shadowBlur=20,u.shadowColor="#ff0080",u.fillStyle=`rgba(255, 255, 255, ${.7+v*.3})`,u.font=`${24*(window.devicePixelRatio||1)}px Arial`,u.textAlign="center",u.fillText("SONOLUME - IHM",c.width/2,40*(window.devicePixelRatio||1)),u.shadowBlur=0;const ye=Math.floor(S.length*.25);let we=0;for(let _=0;_<ye;_++)we+=S[_];const Se=we/Math.max(1,ye)/255,ce=Date.now(),E=xe;U&&(U.update(v*n.sensitivity,Se,ce,E),U.draw())};P()},O=(c,w)=>{k(u=>({...u,[c]:w}))};return i.jsx(Ht,{theme:gt,children:i.jsxs(me,{sx:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",bgcolor:"background.default",color:"white",p:2,overflow:"hidden"},children:[i.jsxs(dt,{elevation:24,sx:{p:4,width:"100%",maxWidth:z?"95%":"900px",bgcolor:"background.paper",borderRadius:4,textAlign:"center",border:"1px solid rgba(255, 0, 128, 0.3)",boxShadow:"0 0 50px rgba(255, 0, 128, 0.2)"},children:[i.jsxs(me,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:2},children:[i.jsx(dr,{sx:{fontSize:40,mr:2,color:"primary.main"}}),i.jsx(he,{variant:"h3",gutterBottom:!0,sx:{fontWeight:"bold",background:"linear-gradient(45deg, #ff0080, #00ff88)",backgroundClip:"text",WebkitBackgroundClip:"text",color:"transparent"},children:"Sonolume Animations"})]}),i.jsx(he,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:"Syst√®me de visualisation audio avanc√© - TPE IHM"}),i.jsxs(me,{sx:{mb:3},children:[i.jsx("input",{accept:"audio/*",style:{display:"none"},id:"audio-upload",type:"file",onChange:H}),i.jsx("label",{htmlFor:"audio-upload",children:i.jsx(ot,{variant:"contained",component:"span",startIcon:i.jsx(fr,{}),sx:{background:"linear-gradient(45deg, #ff0080, #ff8c00)","&:hover":{background:"linear-gradient(45deg, #ff0080, #ff8c00)",transform:"scale(1.05)"},transition:"all 0.3s"},children:"Choisir un fichier audio"})}),r&&i.jsxs(he,{variant:"body2",sx:{mt:1,color:"#00ff88"},children:["üéµ ",r]})]}),i.jsxs(me,{sx:{mb:3,display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:[i.jsx(ot,{variant:"contained",size:"large",startIcon:t?i.jsx(hr,{}):i.jsx(pr,{}),onClick:X,disabled:!r,sx:{background:t?"linear-gradient(45deg, #ff0080, #ff4444)":"linear-gradient(45deg, #00ff88, #00ccff)","&:hover":{transform:"scale(1.05)"},transition:"all 0.3s"},children:t?"Pause":"Lancer la Visualisation"}),i.jsx(ot,{variant:"outlined",startIcon:i.jsx(Nt,{}),onClick:()=>O("showSettings",!n.showSettings),sx:{borderColor:"primary.main",color:"primary.main"},children:"Param√®tres"})]}),n.showSettings&&i.jsxs(dt,{sx:{p:3,mb:3,bgcolor:"rgba(255,255,255,0.05)"},children:[i.jsx(he,{variant:"h6",gutterBottom:!0,children:"Param√®tres de Visualisation"}),i.jsxs(me,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2},children:[i.jsx(je,{control:i.jsx($e,{checked:n.particles,onChange:c=>O("particles",c.target.checked),color:"primary"}),label:"Particules"}),i.jsx(je,{control:i.jsx($e,{checked:n.starfield,onChange:c=>O("starfield",c.target.checked),color:"primary"}),label:"Champ d'√©toiles"}),i.jsx(je,{control:i.jsx($e,{checked:n.waveform,onChange:c=>O("waveform",c.target.checked),color:"primary"}),label:"Waveform Circulaire"}),i.jsx(je,{control:i.jsx($e,{checked:n.frequencyBars,onChange:c=>O("frequencyBars",c.target.checked),color:"primary"}),label:"Barres de Fr√©quence"})]}),i.jsxs(me,{sx:{mt:2},children:[i.jsxs(he,{gutterBottom:!0,children:["Sensibilit√©: ",n.sensitivity.toFixed(2)]}),i.jsx(ur,{value:n.sensitivity,onChange:(c,w)=>O("sensitivity",w),min:.1,max:1.5,step:.1,color:"primary"})]})]}),i.jsxs(me,{sx:{width:"100%",height:z?"300px":"500px",bgcolor:"#000020",borderRadius:2,overflow:"hidden",border:"2px solid rgba(255, 0, 128, 0.3)",boxShadow:"inset 0 0 50px rgba(255, 0, 128, 0.1)",position:"relative"},children:[i.jsx("canvas",{ref:d,width:z?600:1200,height:z?300:500,style:{width:"100%",height:"100%",display:"block",position:"absolute",left:0,top:0}}),i.jsx("canvas",{ref:p,width:z?600:1200,height:z?300:500,style:{width:"100%",height:"100%",display:"block",position:"absolute",left:0,top:0,pointerEvents:"none"}})]}),i.jsxs(me,{sx:{mt:2,display:"flex",justifyContent:"space-around",flexWrap:"wrap"},children:[i.jsx(he,{variant:"caption",sx:{color:"#ff0080"},children:"üéµ Analyse FFT en temps r√©el"}),i.jsx(he,{variant:"caption",sx:{color:"#00ff88"},children:"‚ú® Syst√®me de particules r√©actif"}),i.jsx(he,{variant:"caption",sx:{color:"#00ccff"},children:"üåü Waveform circulaire"})]})]}),i.jsx("audio",{ref:y}),i.jsx(he,{variant:"body2",sx:{mt:4,color:"text.secondary",textAlign:"center",background:"linear-gradient(45deg, #ff0080, #00ff88)",backgroundClip:"text",WebkitBackgroundClip:"text",color:"transparent",fontWeight:"bold"},children:"TPE IHM - Syst√®me de visualisation audio avanc√© ‚Ä¢ R√©alit√© augment√©e sonore"})]})})}export{Lr as default};
